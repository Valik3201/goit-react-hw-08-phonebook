"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[15],{2015:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(9439),s=t(3050),c=t(2791),l=t(4420),r=t(3634),i=t(3553),o=function(e){return e.contacts.items},d=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},x=function(e){return e.filter},m=(0,i.P1)([o,x],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.number.toLowerCase().includes(n.toLowerCase())}))})),h=t(2679),f=t(4250),p=t(3114),j=t(1377),g=t(8391),v=t(7106),C=t(2597),b=t(3329),N=function(e){var n=e.isOpen,t=e.onOpenChange,s=e.editingContact,i=(0,l.I0)(),d=(0,l.v9)(o),u=(0,c.useState)(""),x=(0,a.Z)(u,2),m=x[0],N=x[1],w=(0,c.useState)(""),y=(0,a.Z)(w,2),O=y[0],k=y[1],S=(0,c.useState)(""),A=(0,a.Z)(S,2),I=A[0],X=A[1];(0,c.useEffect)((function(){s?(N(s.name),k(s.number)):(N(""),k(""),X(""))}),[s]);var Z=(0,c.useMemo)((function(){return""!==O&&!O.match(/^[0-9+\-() ]*$/)}),[O]);return(0,b.jsx)(h.R,{isOpen:n,onOpenChange:t,placement:"top-center",children:(0,b.jsx)(f.A,{children:(0,b.jsxs)("form",{onSubmit:function(e){var n=d.filter((function(e){return!s||e.id!==s.id})).find((function(e){return e.name===m||e.number===O}));n||Z?n&&n.name===m&&n.number===O?X("Contact with name ".concat(m," and phone ").concat(O," already exists!")):n&&n.name===m?X("Contact with name ".concat(m," already exists!")):n&&n.number===O&&X("Contact with phone ".concat(O," already exists!")):(i(s?(0,r.Tk)({contactId:s.id,updatedData:{name:m,number:O}}):(0,r.uK)({name:m,number:O})),N(""),k(""),X(""),t(!1))},className:"flex flex-col gap-4",children:[(0,b.jsx)(p.k,{className:"flex flex-col gap-1",children:null!==s?"Edit Contact":"Add Contact"}),(0,b.jsxs)(j.I,{children:[(0,b.jsx)(g.Y,{type:"text",label:"Name",value:m,onChange:function(e){return N(e.target.value)},variant:"bordered",isRequired:!0,size:"sm"}),(0,b.jsx)(g.Y,{type:"tel",label:"Phone",value:O,onChange:function(e){return k(e.target.value)},variant:"bordered",isRequired:!0,isInvalid:Z,errorMessage:Z&&"Please enter a valid phone number",color:Z&&"danger",size:"sm"}),I&&(0,b.jsx)("div",{className:"text-sm text-danger",children:I})]}),(0,b.jsxs)(v.R,{children:[(0,b.jsx)(C.A,{color:"danger",variant:"flat",onClick:function(){t(!1),s?(N(s.name),k(s.number)):(N(""),k("")),X("")},children:"Close"}),(0,b.jsx)(C.A,{type:"submit",color:"primary",children:null!==s?"Save":"Add Contact"})]})]})})})},w=t(4808),y=t(9141),O=function(){var e=(0,l.v9)(x),n=(0,l.I0)();return(0,b.jsx)(g.Y,{type:"text",placeholder:"Search contacts",value:e,onChange:function(e){n((0,w.T)(e.target.value))},labelPlacement:"outside",startContent:(0,b.jsx)(y.Z,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})},k=t(931),S=t(143),A=t(7615),I=t(8734),X=t(2140),Z=t(9505),_=t(108),E=t(8020),P=t(9051),z=function(e){var n=e.onOpen,t=e.onEditContact,a=(e.editingContact,(0,l.I0)()),s=(0,l.v9)(m),i=(0,l.v9)(d),o=(0,l.v9)(u);(0,c.useEffect)((function(){a((0,r.yF)())}),[a]);var x=s.slice().sort((function(e,n){return e.name.localeCompare(n.name)}));return(0,b.jsxs)(k.b,{"aria-label":"Contacts",selectionMode:"single",defaultSelectedKeys:["2"],isHeaderSticky:!0,classNames:{base:"max-h-[480px] overflow-scroll"},children:[(0,b.jsxs)(S.J,{children:[(0,b.jsx)(A.j,{className:"w-2/5",children:"NAME"}),(0,b.jsx)(A.j,{className:"w-2/5",children:"PHONE"}),(0,b.jsx)(A.j,{className:"w-1/5 text-center",children:"ACTIONS"})]}),(0,b.jsxs)(I.y,{emptyContent:"No contacts to display.",children:[i&&!o&&(0,b.jsxs)(X.g,{children:[(0,b.jsx)(Z.X,{"aria-colspan":3,colSpan:3,className:"text-center",children:(0,b.jsx)(_.c,{})}),(0,b.jsx)(Z.X,{className:"hidden"}),(0,b.jsx)(Z.X,{className:"hidden"})]}),o&&(0,b.jsxs)(X.g,{children:[(0,b.jsx)(Z.X,{"aria-colspan":3,colSpan:3,className:"text-center text-danger",children:o}),(0,b.jsx)(Z.X,{className:"hidden"}),(0,b.jsx)(Z.X,{className:"hidden"})]}),!i&&x.map((function(e){return(0,b.jsxs)(X.g,{children:[(0,b.jsx)(Z.X,{children:e.name}),(0,b.jsx)(Z.X,{children:e.number}),(0,b.jsxs)(Z.X,{className:"flex gap-1 items-center",children:[(0,b.jsx)(C.A,{color:"default",variant:"light",size:"sm",onClick:function(){return t(e)},onOpen:n,isIconOnly:!0,startContent:(0,b.jsx)(E.Z,{className:"w-4 h-4"})}),(0,b.jsx)(C.A,{color:"danger",variant:"light",size:"sm",onClick:function(){return n=e.id,a((0,r.GK)(n));var n},isIconOnly:!0,startContent:(0,b.jsx)(P.Z,{className:"w-4 h-4"})})]})]},e.id)}))]})]})},L=t(3576),Y=t(8627),q=t(622),M=function(){var e=(0,Y.a)().user,n=(0,l.v9)(m);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold leading-tight tracking-tight md:text-3xl",children:["Welcome, ",e.name]}),(0,b.jsx)(q.z,{name:e.name,description:e.email,showFallback:!0,avatarProps:{size:"lg"}}),(0,b.jsx)("div",{children:0===n.length?(0,b.jsx)("p",{children:"You don't have any contacts yet."}):(0,b.jsxs)("p",{children:["You have ",n.length," ",1===n.length?"contact":"contacts","."]})})]})},R=t(966),F=function(){var e=(0,c.useState)(null),n=(0,a.Z)(e,2),t=n[0],l=n[1],r=(0,L.q)(),i=r.isOpen,o=r.onOpen,d=r.onOpenChange;return(0,b.jsx)("div",{className:"container mx-auto flex flex-col gap-4 py-4 md:py-8 md:pt-4 mb-24 sm:mb-0 px-6 md:px-0",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(s.ql,{children:(0,b.jsx)("title",{children:"Phonebook - Contacts"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:w-[1024px] mx-auto lg:px-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 items-start",children:[(0,b.jsx)(M,{}),(0,b.jsx)(C.A,{onClick:function(){l(null),d(!0)},onOpen:o,endContent:(0,b.jsx)(R.Z,{className:"w-5 h-5"}),className:"bg-blue-600 text-white w-full",children:"Add Contact"}),(0,b.jsx)(N,{isOpen:i,onOpenChange:d,editingContact:t})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(O,{}),(0,b.jsx)(z,{isOpen:i,onOpenChange:d,onEditContact:function(e){l(e),d(!0)}})]})]})]})})}}}]);
//# sourceMappingURL=15.012601a0.chunk.js.map