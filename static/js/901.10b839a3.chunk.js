"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[901],{7901:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var s=t(8627),a=t(3050),r=t(9439),l=t(2791),i=t(4420),c=t(3634),o=t(3553),d=function(e){return e.contacts.items},x=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},h=function(e){return e.filter},m=(0,o.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.phone.toLowerCase().includes(n.toLowerCase())}))})),j=t(2679),f=t(4250),g=t(3114),p=t(1377),v=t(7106),N=t(5755),C=t(3329),b=function(e){var n=e.isOpen,t=e.onClose,s=e.existingName,a=e.existingPhone,r="";return s&&a?r=(0,C.jsxs)(C.Fragment,{children:["Contact with name ",(0,C.jsx)("strong",{children:s})," and phone"," ",(0,C.jsx)("strong",{children:a})," already exists!"]}):s?r=(0,C.jsxs)(C.Fragment,{children:["Contact with name ",(0,C.jsx)("strong",{children:s})," already exists!"]}):a&&(r=(0,C.jsxs)(C.Fragment,{children:["Contact with phone ",(0,C.jsx)("strong",{children:a})," already exists!"]})),(0,C.jsx)(j.R,{isOpen:n,onClose:t,children:(0,C.jsxs)(f.A,{children:[(0,C.jsx)(g.k,{children:"Oppps..."}),(0,C.jsx)(p.I,{children:(0,C.jsx)("p",{children:r})}),(0,C.jsx)(v.R,{children:(0,C.jsx)(N.A,{onClick:t,children:"Close"})})]})})},w=t(8391),k=t(966),y=function(){var e=(0,i.I0)(),n=(0,i.v9)(d),t=(0,l.useState)(""),s=(0,r.Z)(t,2),a=s[0],o=s[1],x=(0,l.useState)(""),u=(0,r.Z)(x,2),h=u[0],m=u[1],j=(0,l.useState)(!1),f=(0,r.Z)(j,2),g=f[0],p=f[1],v=(0,l.useState)(null),y=(0,r.Z)(v,2),S=y[0],X=y[1],Z=(0,l.useState)(null),A=(0,r.Z)(Z,2),_=A[0],I=A[1],O=(0,l.useMemo)((function(){return""!==h&&!h.match(/^[0-9+\-() ]*$/)}),[h]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s=n.find((function(e){return e.name===a||e.number===h}));s||O?s.name===a&&s.number===h?(X(a),I(h),p(!0)):s.name===a?(X(a),p(!0)):s.number===h&&(I(h),p(!0)):(o(""),m(""),e((0,c.uK)({name:a,number:h})))},className:"flex flex-col gap-4 pb-8",children:[(0,C.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-4",children:[(0,C.jsx)(w.Y,{type:"text",label:"Name",value:a,onChange:function(e){return o(e.target.value)},variant:"bordered",isRequired:!0,size:"sm"}),(0,C.jsx)(w.Y,{type:"tel",label:"Phone",value:h,onChange:function(e){return m(e.target.value)},variant:"bordered",isRequired:!0,isInvalid:O,errorMessage:O&&"Please enter a valid phone number",color:O&&"danger",size:"sm"})]}),(0,C.jsx)(N.A,{type:"submit",className:"bg-blue-600 text-white",endContent:(0,C.jsx)(k.Z,{className:"w-5 h-5"}),children:"Add Contact"})]}),(0,C.jsx)(b,{isOpen:g,onClose:function(){p(!1),X(null),I(null)},existingName:S,existingNumber:_})]})},S=t(4808),X=t(9141),Z=function(){var e=(0,i.v9)(h),n=(0,i.I0)();return(0,C.jsx)(w.Y,{type:"text",placeholder:"Search contacts",value:e,onChange:function(e){n((0,S.T)(e.target.value))},labelPlacement:"outside",startContent:(0,C.jsx)(X.Z,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})},A=t(931),_=t(143),I=t(7615),O=t(8734),P=t(2140),F=t(9505),L=t(108),M=t(9051),R=function(){var e=(0,i.I0)(),n=(0,i.v9)(m),t=(0,i.v9)(x),s=(0,i.v9)(u);(0,l.useEffect)((function(){e((0,c.yF)())}),[e]);var a=n.slice().sort((function(e,n){return e.name.localeCompare(n.name)})),r=function(n){return e((0,c.GK)(n))};return(0,C.jsxs)(A.b,{"aria-label":"Contacts",selectionMode:"single",defaultSelectedKeys:["2"],children:[(0,C.jsxs)(_.J,{children:[(0,C.jsx)(I.j,{className:"w-2/5",children:"NAME"}),(0,C.jsx)(I.j,{className:"w-2/5",children:"PHONE"}),(0,C.jsx)(I.j,{className:"w-1/5 text-center",children:"ACTIONS"})]}),(0,C.jsxs)(O.y,{emptyContent:"No contacts to display.",children:[t&&!s&&(0,C.jsxs)(P.g,{children:[(0,C.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center",children:(0,C.jsx)(L.c,{})}),(0,C.jsx)(F.X,{className:"hidden"}),(0,C.jsx)(F.X,{className:"hidden"})]}),s&&(0,C.jsxs)(P.g,{children:[(0,C.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center text-danger",children:s}),(0,C.jsx)(F.X,{className:"hidden"}),(0,C.jsx)(F.X,{className:"hidden"})]}),!t&&a.map((function(e){return(0,C.jsxs)(P.g,{children:[(0,C.jsx)(F.X,{children:e.name}),(0,C.jsx)(F.X,{children:e.number}),(0,C.jsxs)(F.X,{className:"text-center",children:[(0,C.jsx)(N.A,{color:"danger",variant:"light",size:"sm",startContent:(0,C.jsx)(M.Z,{className:"w-4 h-4"}),onClick:function(){return r(e.id)},className:"hidden md:flex",children:"Delete"}),(0,C.jsx)(N.A,{color:"danger",variant:"light",isIconOnly:!0,onClick:function(){return r(e.id)},className:"md:hidden",children:(0,C.jsx)(M.Z,{className:"w-4 h-4"})})]})]},e.id)}))]})]})},q=function(){var e=(0,s.a)().user;return(0,C.jsx)("div",{className:"container mx-auto md:max-w-xl flex flex-col gap-4 p-4 md:p-8 md:pt-4",children:(0,C.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,C.jsx)(a.ql,{children:(0,C.jsx)("title",{children:"Phonebook - Contacts"})}),(0,C.jsxs)("h2",{className:"text-xl font-bold leading-tight tracking-tight md:text-3xl mb-6",children:["Welcome, ",e.name]}),(0,C.jsx)(y,{}),(0,C.jsx)(Z,{}),(0,C.jsx)(R,{})]})})}}}]);
//# sourceMappingURL=901.10b839a3.chunk.js.map