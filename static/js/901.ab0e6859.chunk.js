"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[901],{7901:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var s=t(8627),a=t(3050),r=t(9439),l=t(2791),i=t(4420),c=t(3634),o=t(3553),d=function(e){return e.contacts.items},u=function(e){return e.contacts.isLoading},x=function(e){return e.contacts.error},h=function(e){return e.filter},m=(0,o.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.phone.toLowerCase().includes(n.toLowerCase())}))})),j=t(2679),f=t(4250),p=t(3114),g=t(1377),v=t(7106),C=t(5755),N=t(3329),b=function(e){var n=e.isOpen,t=e.onClose,s=e.existingName,a=e.existingPhone,r="";return s&&a?r=(0,N.jsxs)(N.Fragment,{children:["Contact with name ",(0,N.jsx)("strong",{children:s})," and phone"," ",(0,N.jsx)("strong",{children:a})," already exists!"]}):s?r=(0,N.jsxs)(N.Fragment,{children:["Contact with name ",(0,N.jsx)("strong",{children:s})," already exists!"]}):a&&(r=(0,N.jsxs)(N.Fragment,{children:["Contact with phone ",(0,N.jsx)("strong",{children:a})," already exists!"]})),(0,N.jsx)(j.R,{isOpen:n,onClose:t,children:(0,N.jsxs)(f.A,{children:[(0,N.jsx)(p.k,{children:"Oppps..."}),(0,N.jsx)(g.I,{children:(0,N.jsx)("p",{children:r})}),(0,N.jsx)(v.R,{children:(0,N.jsx)(C.A,{onClick:t,children:"Close"})})]})})},w=t(8391),y=t(966),k=function(){var e=(0,i.I0)(),n=(0,i.v9)(d),t=(0,l.useState)(""),s=(0,r.Z)(t,2),a=s[0],o=s[1],u=(0,l.useState)(""),x=(0,r.Z)(u,2),h=x[0],m=x[1],j=(0,l.useState)(!1),f=(0,r.Z)(j,2),p=f[0],g=f[1],v=(0,l.useState)(null),k=(0,r.Z)(v,2),S=k[0],X=k[1],Z=(0,l.useState)(null),A=(0,r.Z)(Z,2),P=A[0],_=A[1],I=(0,l.useMemo)((function(){return""!==h&&!function(e){return e.match(/^[0-9+\-() ]*$/)}(h)}),[h]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s=n.find((function(e){return e.name===a||e.phone===h}));s||I?s.name===a&&s.phone===h?(X(a),_(h),g(!0)):s.name===a?(X(a),g(!0)):s.phone===h&&(_(h),g(!0)):(o(""),m(""),e((0,c.uK)({name:a,phone:h})))},className:"flex flex-col gap-4 pb-8",children:[(0,N.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-4",children:[(0,N.jsx)(w.Y,{type:"text",label:"Name",value:a,onChange:function(e){return o(e.target.value)},variant:"bordered",isRequired:!0,size:"sm"}),(0,N.jsx)(w.Y,{type:"tel",label:"Phone",value:h,onChange:function(e){return m(e.target.value)},variant:"bordered",isRequired:!0,isInvalid:I,errorMessage:I&&"Please enter a valid phone number",color:I&&"danger",size:"sm"})]}),(0,N.jsx)(C.A,{type:"submit",className:"bg-blue-600 text-white",endContent:(0,N.jsx)(y.Z,{className:"w-5 h-5"}),children:"Add Contact"})]}),(0,N.jsx)(b,{isOpen:p,onClose:function(){g(!1),X(null),_(null)},existingName:S,existingPhone:P})]})},S=t(4808),X=t(9141),Z=function(){var e=(0,i.v9)(h),n=(0,i.I0)();return(0,N.jsx)(w.Y,{type:"text",placeholder:"Search contacts",value:e,onChange:function(e){n((0,S.T)(e.target.value))},labelPlacement:"outside",startContent:(0,N.jsx)(X.Z,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})},A=t(931),P=t(143),_=t(7615),I=t(8734),O=t(2140),F=t(9505),L=t(108),M=t(9051),R=function(){var e=(0,i.I0)(),n=(0,i.v9)(m),t=(0,i.v9)(u),s=(0,i.v9)(x);(0,l.useEffect)((function(){e((0,c.yF)())}),[e]);var a=n.slice().sort((function(e,n){return e.name.localeCompare(n.name)})),r=function(n){return e((0,c.GK)(n))};return(0,N.jsxs)(A.b,{"aria-label":"Contacts",selectionMode:"single",defaultSelectedKeys:["2"],children:[(0,N.jsxs)(P.J,{children:[(0,N.jsx)(_.j,{className:"w-2/5",children:"NAME"}),(0,N.jsx)(_.j,{className:"w-2/5",children:"PHONE"}),(0,N.jsx)(_.j,{className:"w-1/5 text-center",children:"ACTIONS"})]}),(0,N.jsxs)(I.y,{emptyContent:"No contacts to display.",children:[t&&!s&&(0,N.jsxs)(O.g,{children:[(0,N.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center",children:(0,N.jsx)(L.c,{})}),(0,N.jsx)(F.X,{className:"hidden"}),(0,N.jsx)(F.X,{className:"hidden"})]}),s&&(0,N.jsxs)(O.g,{children:[(0,N.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center text-danger",children:s}),(0,N.jsx)(F.X,{className:"hidden"}),(0,N.jsx)(F.X,{className:"hidden"})]}),!t&&a.map((function(e){return(0,N.jsxs)(O.g,{children:[(0,N.jsx)(F.X,{children:e.name}),(0,N.jsx)(F.X,{children:e.phone}),(0,N.jsxs)(F.X,{className:"text-center",children:[(0,N.jsx)(C.A,{color:"danger",variant:"light",size:"sm",startContent:(0,N.jsx)(M.Z,{className:"w-4 h-4"}),onClick:function(){return r(e.id)},className:"hidden md:flex",children:"Delete"}),(0,N.jsx)(C.A,{color:"danger",variant:"light",isIconOnly:!0,onClick:function(){return r(e.id)},className:"md:hidden",children:(0,N.jsx)(M.Z,{className:"w-4 h-4"})})]})]},e.id)}))]})]})},q=function(){var e=(0,s.a)().user;return(0,N.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,N.jsx)(a.ql,{children:(0,N.jsx)("title",{children:"Phonebook - Contacts"})}),(0,N.jsxs)("h2",{className:"text-4xl text-center font-semibold mb-6",children:["Welcome, ",e.name," \ud83d\ude01"]}),(0,N.jsx)(k,{}),(0,N.jsx)(Z,{}),(0,N.jsx)(R,{})]})}}}]);
//# sourceMappingURL=901.ab0e6859.chunk.js.map