"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[901],{7901:function(e,n,s){s.r(n),s.d(n,{default:function(){return q}});var t=s(8627),a=s(3050),r=s(9439),l=s(2791),i=s(4420),c=s(3634),o=s(3553),d=function(e){return e.contacts.items},x=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},h=function(e){return e.filter},m=(0,o.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.number.toLowerCase().includes(n.toLowerCase())}))})),j=s(2679),f=s(4250),g=s(3114),p=s(1377),v=s(7106),N=s(5755),b=s(3329),C=function(e){var n=e.isOpen,s=e.onClose,t=e.existingName,a=e.existingPhone,r="";return t&&a?r=(0,b.jsxs)(b.Fragment,{children:["Contact with name ",(0,b.jsx)("strong",{children:t})," and phone"," ",(0,b.jsx)("strong",{children:a})," already exists!"]}):t?r=(0,b.jsxs)(b.Fragment,{children:["Contact with name ",(0,b.jsx)("strong",{children:t})," already exists!"]}):a&&(r=(0,b.jsxs)(b.Fragment,{children:["Contact with phone ",(0,b.jsx)("strong",{children:a})," already exists!"]})),(0,b.jsx)(j.R,{isOpen:n,onClose:s,children:(0,b.jsxs)(f.A,{children:[(0,b.jsx)(g.k,{children:"Oppps..."}),(0,b.jsx)(p.I,{children:(0,b.jsx)("p",{children:r})}),(0,b.jsx)(v.R,{children:(0,b.jsx)(N.A,{onClick:s,children:"Close"})})]})})},w=s(8391),y=s(966),k=function(){var e=(0,i.I0)(),n=(0,i.v9)(d),s=(0,l.useState)(""),t=(0,r.Z)(s,2),a=t[0],o=t[1],x=(0,l.useState)(""),u=(0,r.Z)(x,2),h=u[0],m=u[1],j=(0,l.useState)(!1),f=(0,r.Z)(j,2),g=f[0],p=f[1],v=(0,l.useState)(null),k=(0,r.Z)(v,2),S=k[0],X=k[1],Z=(0,l.useState)(null),A=(0,r.Z)(Z,2),_=A[0],I=A[1],O=(0,l.useMemo)((function(){return""!==h&&!h.match(/^[0-9+\-() ]*$/)}),[h]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("form",{onSubmit:function(s){s.preventDefault();var t=n.find((function(e){return e.name===a||e.number===h}));t||O?t.name===a&&t.number===h?(X(a),I(h),p(!0)):t.name===a?(X(a),p(!0)):t.number===h&&(I(h),p(!0)):(o(""),m(""),e((0,c.uK)({name:a,number:h})))},className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-wrap md:flex-nowrap gap-4",children:[(0,b.jsx)(w.Y,{type:"text",label:"Name",value:a,onChange:function(e){return o(e.target.value)},variant:"bordered",isRequired:!0,size:"sm"}),(0,b.jsx)(w.Y,{type:"tel",label:"Phone",value:h,onChange:function(e){return m(e.target.value)},variant:"bordered",isRequired:!0,isInvalid:O,errorMessage:O&&"Please enter a valid phone number",color:O&&"danger",size:"sm"})]}),(0,b.jsx)(N.A,{type:"submit",className:"bg-blue-600 text-white",endContent:(0,b.jsx)(y.Z,{className:"w-5 h-5"}),children:"Add Contact"})]}),(0,b.jsx)(C,{isOpen:g,onClose:function(){p(!1),X(null),I(null)},existingName:S,existingNumber:_})]})},S=s(4808),X=s(9141),Z=function(){var e=(0,i.v9)(h),n=(0,i.I0)();return(0,b.jsx)(w.Y,{type:"text",placeholder:"Search contacts",value:e,onChange:function(e){n((0,S.T)(e.target.value))},labelPlacement:"outside",startContent:(0,b.jsx)(X.Z,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})},A=s(931),_=s(143),I=s(7615),O=s(8734),P=s(2140),F=s(9505),L=s(108),M=s(9051),R=function(){var e=(0,i.I0)(),n=(0,i.v9)(m),s=(0,i.v9)(x),t=(0,i.v9)(u);(0,l.useEffect)((function(){e((0,c.yF)())}),[e]);var a=n.slice().sort((function(e,n){return e.name.localeCompare(n.name)})),r=function(n){return e((0,c.GK)(n))};return(0,b.jsxs)(A.b,{"aria-label":"Contacts",selectionMode:"single",defaultSelectedKeys:["2"],isHeaderSticky:!0,classNames:{base:"max-h-[480px] overflow-scroll"},children:[(0,b.jsxs)(_.J,{children:[(0,b.jsx)(I.j,{className:"w-2/5",children:"NAME"}),(0,b.jsx)(I.j,{className:"w-2/5",children:"PHONE"}),(0,b.jsx)(I.j,{className:"w-1/5 text-center",children:"ACTIONS"})]}),(0,b.jsxs)(O.y,{emptyContent:"No contacts to display.",children:[s&&!t&&(0,b.jsxs)(P.g,{children:[(0,b.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center",children:(0,b.jsx)(L.c,{})}),(0,b.jsx)(F.X,{className:"hidden"}),(0,b.jsx)(F.X,{className:"hidden"})]}),t&&(0,b.jsxs)(P.g,{children:[(0,b.jsx)(F.X,{"aria-colspan":3,colSpan:3,className:"text-center text-danger",children:t}),(0,b.jsx)(F.X,{className:"hidden"}),(0,b.jsx)(F.X,{className:"hidden"})]}),!s&&a.map((function(e){return(0,b.jsxs)(P.g,{children:[(0,b.jsx)(F.X,{children:e.name}),(0,b.jsx)(F.X,{children:e.number}),(0,b.jsxs)(F.X,{className:"text-center",children:[(0,b.jsx)(N.A,{color:"danger",variant:"light",size:"sm",startContent:(0,b.jsx)(M.Z,{className:"w-4 h-4"}),onClick:function(){return r(e.id)},className:"hidden md:flex",children:"Delete"}),(0,b.jsx)(N.A,{color:"danger",variant:"light",isIconOnly:!0,onClick:function(){return r(e.id)},className:"md:hidden",children:(0,b.jsx)(M.Z,{className:"w-4 h-4"})})]})]},e.id)}))]})]})},q=function(){var e=(0,t.a)().user;return(0,b.jsx)("div",{className:"container mx-auto flex flex-col gap-4 py-4 md:py-8 md:pt-4 mb-24 sm:mb-0 px-6 md:px-0",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(a.ql,{children:(0,b.jsx)("title",{children:"Phonebook - Contacts"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:w-[1024px] mx-auto lg:px-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold leading-tight tracking-tight md:text-3xl",children:["Welcome, ",e.name]}),(0,b.jsx)(k,{})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(Z,{}),(0,b.jsx)(R,{})]})]})]})})}}}]);
//# sourceMappingURL=901.d4742102.chunk.js.map