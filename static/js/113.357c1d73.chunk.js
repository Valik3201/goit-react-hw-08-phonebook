"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[113],{4113:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(8627),s=t(3050),r=t(9439),l=t(2791),c=t(4420),i=t(3634),o=t(3553),d=function(e){return e.contacts.items},x=function(e){return e.contacts.isLoading},u=function(e){return e.contacts.error},h=function(e){return e.filter},m=(0,o.P1)([d,h],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.number.toLowerCase().includes(n.toLowerCase())}))})),j=t(3576),p=t(2597),f=t(2679),g=t(4250),v=t(3114),b=t(1377),C=t(8391),N=t(7106),y=t(966),w=t(3329);function k(){var e=(0,c.I0)(),n=(0,c.v9)(d),t=(0,l.useState)(""),a=(0,r.Z)(t,2),s=a[0],o=a[1],x=(0,l.useState)(""),u=(0,r.Z)(x,2),h=u[0],m=u[1],k=(0,l.useState)(""),A=(0,r.Z)(k,2),O=A[0],S=A[1],P=(0,j.q)(),X=P.isOpen,I=P.onOpen,R=P.onOpenChange,_=(0,l.useMemo)((function(){return""!==h&&!h.match(/^[0-9+\-() ]*$/)}),[h]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(p.A,{onPress:I,className:"bg-blue-600 text-white w-full",endContent:(0,w.jsx)(y.Z,{className:"w-5 h-5"}),children:"Add Contact"}),(0,w.jsx)(f.R,{isOpen:X,onOpenChange:R,placement:"top-center",children:(0,w.jsx)(g.A,{children:(0,w.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=n.find((function(e){return e.name===s||e.number===h}));a||_?a&&a.name===s&&a.number===h?S("Contact with name ".concat(s," and phone ").concat(h," already exists!")):a&&a.name===s?S("Contact with name ".concat(s," already exists!")):a&&a.number===h&&S("Contact with phone ".concat(h," already exists!")):(e((0,i.uK)({name:s,number:h})),o(""),m(""),R(!1))},className:"flex flex-col gap-4",children:[(0,w.jsx)(v.k,{className:"flex flex-col gap-1",children:"Add Contact"}),(0,w.jsxs)(b.I,{children:[(0,w.jsx)(C.Y,{type:"text",label:"Name",value:s,onChange:function(e){return o(e.target.value)},variant:"bordered",isRequired:!0,size:"sm"}),(0,w.jsx)(C.Y,{type:"tel",label:"Phone",value:h,onChange:function(e){return m(e.target.value)},variant:"bordered",isRequired:!0,isInvalid:_,errorMessage:_&&"Please enter a valid phone number",color:_&&"danger",size:"sm"}),O&&(0,w.jsx)("div",{className:"text-sm text-danger",children:O})]}),(0,w.jsxs)(N.R,{children:[(0,w.jsx)(p.A,{color:"danger",variant:"flat",onClick:function(){R(!1),o(""),m(""),S("")},children:"Close"}),(0,w.jsx)(p.A,{type:"submit",color:"primary",children:"Add Contact"})]})]})})})]})}var A=t(4808),O=t(9141),S=function(){var e=(0,c.v9)(h),n=(0,c.I0)();return(0,w.jsx)(C.Y,{type:"text",placeholder:"Search contacts",value:e,onChange:function(e){n((0,A.T)(e.target.value))},labelPlacement:"outside",startContent:(0,w.jsx)(O.Z,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})},P=t(931),X=t(143),I=t(7615),R=t(8734),_=t(2140),q=t(9505),z=t(108),Y=t(9051),Z=function(){var e=(0,c.I0)(),n=(0,c.v9)(m),t=(0,c.v9)(x),a=(0,c.v9)(u),s=(0,j.q)(),o=s.isOpen,d=s.onOpen,h=s.onOpenChange,y=(0,l.useState)(null),k=(0,r.Z)(y,2),A=k[0],O=k[1];(0,l.useEffect)((function(){e((0,i.yF)())}),[e]);var S=n.slice().sort((function(e,n){return e.name.localeCompare(n.name)}));return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(P.b,{"aria-label":"Contacts",selectionMode:"single",defaultSelectedKeys:["2"],isHeaderSticky:!0,classNames:{base:"max-h-[480px] overflow-scroll"},children:[(0,w.jsxs)(X.J,{children:[(0,w.jsx)(I.j,{className:"w-2/5",children:"NAME"}),(0,w.jsx)(I.j,{className:"w-2/5",children:"PHONE"}),(0,w.jsx)(I.j,{className:"w-1/5 text-center",children:"ACTIONS"})]}),(0,w.jsxs)(R.y,{emptyContent:"No contacts to display.",children:[t&&!a&&(0,w.jsxs)(_.g,{children:[(0,w.jsx)(q.X,{"aria-colspan":3,colSpan:3,className:"text-center",children:(0,w.jsx)(z.c,{})}),(0,w.jsx)(q.X,{className:"hidden"}),(0,w.jsx)(q.X,{className:"hidden"})]}),a&&(0,w.jsxs)(_.g,{children:[(0,w.jsx)(q.X,{"aria-colspan":3,colSpan:3,className:"text-center text-danger",children:a}),(0,w.jsx)(q.X,{className:"hidden"}),(0,w.jsx)(q.X,{className:"hidden"})]}),!t&&S.map((function(n){return(0,w.jsxs)(_.g,{children:[(0,w.jsx)(q.X,{children:n.name}),(0,w.jsx)(q.X,{children:n.number}),(0,w.jsxs)(q.X,{className:"flex gap-1 items-center",children:[(0,w.jsx)(p.A,{color:"default",variant:"light",size:"sm",onClick:function(){return function(e){O(e),d()}(n)},children:"Edit"}),(0,w.jsx)(p.A,{color:"danger",variant:"light",isIconOnly:!0,onClick:function(){return t=n.id,e((0,i.GK)(t));var t},startContent:(0,w.jsx)(Y.Z,{className:"w-4 h-4"})})]})]},n.id)}))]})]}),(0,w.jsx)(f.R,{isOpen:o,onOpenChange:h,placement:"top-center",children:(0,w.jsx)(g.A,{children:function(e){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.k,{className:"flex flex-col gap-1",children:"Edit contact"}),(0,w.jsxs)(b.I,{children:[(0,w.jsx)(C.Y,{type:"text",autoFocus:!0,label:"Name",value:A?A.name:"",variant:"bordered",isRequired:!0,size:"sm"}),(0,w.jsx)(C.Y,{type:"tel",label:"Phone",value:A?A.number:"",variant:"bordered",isRequired:!0,size:"sm"})]}),(0,w.jsxs)(N.R,{children:[(0,w.jsx)(p.A,{color:"danger",variant:"flat",onPress:e,children:"Close"}),(0,w.jsx)(p.A,{color:"primary",onPress:e,children:"Save"})]})]})}})})]})},F=t(622),E=function(){var e=(0,a.a)().user,n=(0,c.v9)(m);return(0,w.jsx)("div",{className:"container mx-auto flex flex-col gap-4 py-4 md:py-8 md:pt-4 mb-24 sm:mb-0 px-6 md:px-0",children:(0,w.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,w.jsx)(s.ql,{children:(0,w.jsx)("title",{children:"Phonebook - Contacts"})}),(0,w.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:w-[1024px] mx-auto lg:px-6",children:[(0,w.jsxs)("div",{className:"flex flex-col gap-4 items-start",children:[(0,w.jsxs)("h2",{className:"text-xl font-bold leading-tight tracking-tight md:text-3xl",children:["Welcome, ",e.name]}),(0,w.jsx)(F.z,{name:e.name,description:e.email,showFallback:!0,avatarProps:{size:"lg"}}),(0,w.jsx)("div",{children:0===n.length?(0,w.jsx)("p",{children:"You don't have any contacts yet."}):(0,w.jsxs)("p",{children:["You have ",n.length," ",1===n.length?"contact":"contacts","."]})}),(0,w.jsx)(k,{})]}),(0,w.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,w.jsx)(S,{}),(0,w.jsx)(Z,{})]})]})]})})}}}]);
//# sourceMappingURL=113.357c1d73.chunk.js.map